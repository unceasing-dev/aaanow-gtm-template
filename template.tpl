___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "AAANOW ACM Accessibility Panel Loader",
  "categories": ["UTILITY"],
  "brand": {
    "id": "brand_dummy",
    "displayName": "AAANOW",
    "thumbnail": "data:image/png;base64,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\u003d\u003d"
  },
  "description": "Official AAANOW ACM accessibility panel loader. See https://aaanow.ai/ for more information.",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "acmID",
    "displayName": "ACM ID",
    "simpleValueType": true,
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      },
      {
        "type": "STRING_LENGTH",
        "args": [
          16,
          32
        ]
      },
      {
        "type": "REGEX",
        "args": [
          "^[A-Za-z0-9]+$"
        ],
        "errorMessage": "Only alphabetic characters and digits are allowed."
      }
    ]
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const injectScript = require('injectScript');
const setInWindow = require('setInWindow');
setInWindow('aaanow_acm_id', data.acmID);
injectScript(
  'https://cdn.aaanow.ai/acm/',
  () => {
    data.gtmOnSuccess();
  },
  () => {}
);


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "aaanow_acm_id"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://*.aaanow.ai/*"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 18/03/2024, 21:23:46


